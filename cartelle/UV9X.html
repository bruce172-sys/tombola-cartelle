<!doctype html>
<html lang="it"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Cartella UV9X</title>
<style>
:root{--bg:#0b1220;--card:#111a2e;--txt:#e7eefc;--muted:#94a3b8;--ok:#22c55e;--border:#1f2a44;}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto;background:var(--bg);color:var(--txt)}
header{padding:14px 16px;display:flex;gap:10px;align-items:center;justify-content:space-between}
.badge{font-weight:800;font-size:18px}
.btn{background:transparent;color:var(--txt);border:1px solid var(--border);border-radius:12px;padding:10px 12px;font-size:14px}
.wrap{padding:0 14px 16px}
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.cell{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  min-height:64px;padding:10px;display:flex;align-items:center;justify-content:center;
  text-align:center;font-size:16px;font-weight:700;user-select:none;-webkit-tap-highlight-color:transparent;
}
.marked{outline:3px solid var(--ok)}
.small{font-size:12px;color:var(--muted);padding:0 16px 14px}
input,button{font-size:20px;padding:12px 14px;border-radius:12px}
input{width:100%;border:1px solid #334155;background:#0f172a;color:var(--txt)}
button.primary{width:100%;border:0;background:#2563eb;color:white}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px}
.hint{color:var(--muted);font-size:13px}
.err{color:#fca5a5;font-weight:700}
/* Responsive: su schermi piccoli layout più leggibile */
@media (max-width: 460px){
  header{padding:12px 12px}
  .wrap{padding:0 12px 14px}
  /* griglia 3 colonne: più grande, meno "schiacciata" */
  .grid{grid-template-columns:repeat(3,1fr);gap:10px}
  .cell{min-height:78px;padding:12px}
  .badge{font-size:18px}
  .btn{padding:10px 10px}
}
/* Font che si adatta automaticamente */
.cell{font-size:clamp(14px, 4.2vw, 18px)}

</style>
</head><body>
<header>
  <div class="badge">Cartella <span>UV9X</span></div>
  <button class="btn" id="reset">Azzera</button>
</header>

<div class="wrap">
  <div class="hint">Benvenuti alla Tombola Musicale!</div>
  <div class="hint">LAS VEGAS SHOW</div>
  <div style="height:10px"></div>
  <div class="grid" id="grid"></div>
</div>

<div class="small">Tocca una canzone per marcarla. I segni restano salvati sul tuo telefono.</div>

<script>
const PIN = "UV9X";
const CELLS = [["Notte prima degli esami", "Se bastasse una canzone", "Italodisco", "Ci vorrebbe il mare", "Fotoromanza"], ["Sapore di sale", "Mamma Maria", "Soldi", "Gelato al cioccolato", "L'anno che verrà"], ["Se mi lasci non vale", "Vattene amore", "La solitudine", "Ancora", "La cura"]];
const KEY = "tombola_marks_" + PIN;

function loadMarks(){
  try{ return new Set(JSON.parse(localStorage.getItem(KEY) || "[]")); }
  catch{ return new Set(); }
}
function saveMarks(set){ localStorage.setItem(KEY, JSON.stringify([...set])); }

let marks = loadMarks();
const grid = document.getElementById("grid");

function render(){
  grid.innerHTML = "";
  for(let r=0;r<3;r++) {
    for(let c=0;c<5;c++) {
      const v = CELLS[r][c];
      const d = document.createElement("div");
      d.className = "cell";
      d.textContent = v;
      if(marks.has(v)) d.classList.add("marked");
      d.addEventListener("click", ()=>{
        if(marks.has(v)) marks.delete(v); else marks.add(v);
        saveMarks(marks);
        render();
      });
      grid.appendChild(d);
    }
  }
}

document.getElementById("reset").addEventListener("click", ()=>{
  if(confirm("Azzero i segni?")) {
    marks = new Set();
    saveMarks(marks);
    render();
  }
});

render();
</script>
</body></html>
